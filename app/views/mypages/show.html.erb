<div class="mypage">
    <div class="avatar-container">
        <% if current_user.avatar.attached? %>
            <%= image_tag current_user.avatar, class: 'avatar' %>
        <% else %>
            <%= image_tag 'default_avatar.png', class: 'avatar' %>
        <% end %>

        <div class="plus-btn">
            <%= image_tag 'plus_btn.png' %>
        </div>

        <div class="avatar-menu">
            <ul>
                <li>
                    <label for="user_avatar">画像を変更</label>
                </li>
                <li>
                    <%= button_to "画像を削除", avatar_destroy_mypage_path, method: :delete, data: { turbo_confirm: "削除しますか？" }, class: "delete-btn" %>
                </li>
            </ul>
        </div>

    <%= form_with model: current_user, url: avatar_update_mypage_path, local: true, html: { multipart: true } do |f| %>
        <%= f.file_field :avatar, id: "user_avatar", class: "hidden-input" %>
    <% end %>
    </div>

  <h1>
    <% if current_user.nickname.present? %>
        <%= current_user.nickname %> さん、ようこそ！
    <% else %>
        <%= current_user.email %> さん、ようこそ！
    <% end %>
  </h1>
  <p>CookTokへログイン中です。</p>

  <div class="actions">
    <%= link_to "動画を探す", searches_path, class: "btn btn-search" %>
    <%= link_to "保存動画", saved_videos_path, class: "btn btn-post" %>
    <%= link_to "プロフィールを編集", edit_user_registration_path, class: "btn btn-profile" %>
    <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "btn btn-logout" %>
  </div>
</div>

